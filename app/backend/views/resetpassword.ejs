<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/resetpassword.css">
    <title>Document</title>
   
</head>

<body>
    <div class="mainDiv">
        <div class="cardStyle">
          <form action="" method="post" name="signupForm" id="signupForm">
            <h2 class="formTitle">
              Change Password
            </h2>
          <div class="inputDiv">
            <label class="inputLabel" for="password">New Password</label>
            <input type="password" id="password" name="password" required placeholder="Enter new Password"  >
          </div>
            
          <div class="inputDiv">
            <label class="inputLabel" for="confirmPassword">Confirm Password</label>
            <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" >
          </div>
          
          <div class="buttonWrapper">
            <button type="submit" id="submitButton" onclick="redirectToUrl('/resetpassword')" class="submitButton pure-button pure-button-primary">
              <span>Confirm</span>
              <span id="loader"></span>
            </button>
          </div>
            
        </form>
        </div>
      </div>
      <script>
        var password = document.getElementById("password"),
            confirm_password = document.getElementById("confirmPassword");

        const submit = document.getElementById("submitButton");

        submit.addEventListener("click", handleSubmit);

        function handleSubmit(event) {
            event.preventDefault();

            if (validatePassword() && password.value === confirm_password.value) {
                // Add your logic to handle the successful form submission
                alert('Password is valid. Form submitted!');
            } else {
                alert('Password not matched or does not meet constraints');
            }
        }

        function validatePassword() {
            // Define the password constraints using regular expressions
            var lengthRegex = /.{8,}/; // At least 8 characters
            var uppercaseRegex = /[A-Z]/; // At least one uppercase letter
            var lowercaseRegex = /[a-z]/; // At least one lowercase letter
            var digitRegex = /\d/; // At least one digit

            // Check if the password meets all constraints
            var isValid = lengthRegex.test(password.value) &&
                          uppercaseRegex.test(password.value) &&
                          lowercaseRegex.test(password.value) &&
                          digitRegex.test(password.value);

            // Update the UI based on the validation result
            if (isValid) {
                password.setCustomValidity('');
                return true;
            } else {
                password.setCustomValidity('Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, and one digit.');
                return false;
            }
            
        }
      </script>
</body>


</html>